{
  "name": "add-tool",
  "description": "Add a new tool/feature across all three services",
  "instructions": "Guide the user through adding a new tool/feature that spans the full stack.\n\nThis skill helps implement a new feature end-to-end following the architecture:\nUI → Agent → Server → External API\n\n1. **Understand the Requirement**:\n   - Ask what the tool should do\n   - What external API or data source it needs\n   - What user inputs are required\n   - What output should be displayed\n\n2. **Server (MCP Server)**:\n   - Create Pydantic schemas in packages/server/mcp_server/schemas/\n   - Implement tool class in packages/server/mcp_server/tools/\n   - Register in packages/server/mcp_server/server.py\n   - Add route in packages/server/mcp_server/app.py\n   - Write tests in packages/server/tests/test_tools/\n   - Document caching strategy if needed\n\n3. **Agent (AI Agent)**:\n   - Create Pydantic input schema in packages/agent/src/daily_ai_agent/agent/tools.py\n   - Implement LangChain BaseTool wrapper\n   - Register in get_all_tools() function\n   - Add API endpoint in packages/agent/src/daily_ai_agent/api.py (optional)\n   - Write tests in packages/agent/tests/\n\n4. **UI (Frontend)**:\n   - Add data type interface in packages/ui/app/lib/api.ts\n   - Add API methods to AIAgentAPI and ServerAIAgentAPI classes\n   - Create widget component in packages/ui/app/components/\n   - Add data fetching to packages/ui/app/routes/home.tsx loader\n   - Import and render in Dashboard.tsx\n   - Add slash command if applicable\n\n5. **Testing**:\n   - Test server endpoint directly: curl http://localhost:8000/tools/new_tool\n   - Test agent orchestration: uv run daily-ai-agent chat -m \"test query\"\n   - Test UI widget: Visit http://localhost:5173/\n   - Run test suites: /test-all\n\n6. **Documentation**:\n   - Update README files with new feature\n   - Add to CLAUDE.md files if it changes patterns\n   - Document any new environment variables needed\n\nProvide code examples for each step based on existing patterns in the codebase."
}
